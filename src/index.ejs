<!DOCTYPE html>
<html lang="en">
<head>
  <% if (htmlWebpackPlugin.options.trackJSToken) { %>
  <script>window._trackJs = {token: '<%= htmlWebpackPlugin.options.trackJSToken %>'};</script>
  <script src="https://d2zah9y47r7bi2.cloudfront.net/releases/current/tracker.js"></script>
  <% } %>

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta charset="utf-8"/>
  <title>Intertect</title>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

  <link rel="stylesheet" href="styles/intro.css">
</head>

<body>
  <nav class="navbar navbar-inverse" role="navigation" id="header" style="background-color:#428BCA;border:0px;border-radius:0px;display:none;">
    <div class="container col-sm-12">
      <div class="navbar-header col-sm-12">
        <button type="button" class="btn btn-success navbar-btn col-sm-3" ng-click="run()" ng-hide="isRunning">
          <span class="glyphicon glyphicon-play"></span> Run
        </button>
        <button type="button" class="btn btn-info navbar-btn col-sm-4 col-sm-offset-1" ng-click="executeStep()" ng-disabled="isRunning">
          <span class="glyphicon glyphicon-forward"></span> Step
        </button>
        <button type="button" class="btn btn-danger navbar-btn col-sm-3 col-sm-offset-1" ng-click="stop()" ng-show="isRunning">
          <span class="glyphicon glyphicon-stop"></span> Stop
        </button>
      </div>
    </div>
  </nav>

  <div class="shell-wrap col-sm-6" id="shell" style="left: 25%;">
    <p class="shell-top-bar">/Users/intertect/</p>
    <ul class="shell-body" >
      <li id="cat_main" style="display:inline;"></li>
      <div id="cat_main_output" style="display:none">
          <br> #include &lt;stdio.h&gt; 
          <br>int main() {
          <br>&nbsp;&nbsp;&nbsp;&nbsp;printf("Hello, World!");
          <br>&nbsp;&nbsp;&nbsp;&nbsp;return 0;
          <br>}
          <br> 
      </div>
      <li id="ls" style="display:none;"></li>
      <div id="ls_output" style="display:none">
          <br> main.c main.s 
          <br> 
      </div>
      <li id="cat_main_s" style="display:none;"></li>
      <div id="cat_main_s_output" style="display:none">
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.file&nbsp;&nbsp;&nbsp;"main.c"
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.text
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.globl&nbsp;&nbsp;main
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.type&nbsp;&nbsp;&nbsp;main,&nbsp;@function
          <br> main:
          <br> .LFB0:
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_startproc
          <br> &nbsp;&nbsp;&nbsp;&nbsp;pushq&nbsp;&nbsp;&nbsp;%rbp
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_def_cfa_offset&nbsp;16
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_offset&nbsp;6,&nbsp;-16
          <br> &nbsp;&nbsp;&nbsp;&nbsp;movq&nbsp;&nbsp;&nbsp;&nbsp;%rsp,&nbsp;%rbp
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_def_cfa_register&nbsp;6
          <br> &nbsp;&nbsp;&nbsp;&nbsp;movl&nbsp;&nbsp;&nbsp;&nbsp;$0,&nbsp;%eax
          <br> &nbsp;&nbsp;&nbsp;&nbsp;popq&nbsp;&nbsp;&nbsp;&nbsp;%rbp
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_def_cfa&nbsp;7,&nbsp;8
          <br> &nbsp;&nbsp;&nbsp;&nbsp;ret
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_endproc
          <br> .LFE0:
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.size&nbsp;&nbsp;&nbsp;main,&nbsp;.-main
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.ident&nbsp;&nbsp;"GCC:&nbsp;(Ubuntu&nbsp;7.2.0-1ubuntu1~16.04)&nbsp;7.2.0"
          <br> &nbsp;&nbsp;&nbsp;&nbsp;.section&nbsp;&nbsp;&nbsp;&nbsp;.note.GNU-stack,"",@progbits
      </div>
    </ul>
  </div>

  <div class="container" id="studio" style="display:none;">
    <div class="row">
      <div class="col-sm-5">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">Code</h4>
          </div>
          <div class="panel-body" style="background: #141414;">
            <ul class="shell-body" >
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.file&nbsp;&nbsp;&nbsp;"main.c"
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.text
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.globl&nbsp;&nbsp;main
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.type&nbsp;&nbsp;&nbsp;main,&nbsp;@function
              <br> main:
              <br> .LFB0:
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_startproc
              <br> &nbsp;&nbsp;&nbsp;&nbsp;pushq&nbsp;&nbsp;&nbsp;%rbp
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_def_cfa_offset&nbsp;16
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_offset&nbsp;6,&nbsp;-16
              <br> &nbsp;&nbsp;&nbsp;&nbsp;movq&nbsp;&nbsp;&nbsp;&nbsp;%rsp,&nbsp;%rbp
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_def_cfa_register&nbsp;6
              <br> &nbsp;&nbsp;&nbsp;&nbsp;movl&nbsp;&nbsp;&nbsp;&nbsp;$0,&nbsp;%eax
              <br> &nbsp;&nbsp;&nbsp;&nbsp;popq&nbsp;&nbsp;&nbsp;&nbsp;%rbp
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_def_cfa&nbsp;7,&nbsp;8
              <br> &nbsp;&nbsp;&nbsp;&nbsp;ret
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.cfi_endproc
              <br> .LFE0:
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.size&nbsp;&nbsp;&nbsp;main,&nbsp;.-main
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.ident&nbsp;&nbsp;"GCC:&nbsp;(Ubuntu&nbsp;7.2.0-1ubuntu1~16.04)&nbsp;7.2.0"
              <br> &nbsp;&nbsp;&nbsp;&nbsp;.section&nbsp;&nbsp;&nbsp;&nbsp;.note.GNU-stack,"",@progbits
            </ul>
          </div>
        </div>
      </div>
      <div class="clearfix visible-sm"></div>
      <div class="col-sm-6">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">Implement</h4>
          </div>
          <form role="form">
            <textarea id="sourceCode"
                  class="form-control source-code"
                  style="margin-bottom:5px;"
                  rows="35"
                  tab-support
                  select-line
                  ng-model="code"></textarea>
            <button type="button" class="btn btn-default" ng-click="assemble()">Compile</button>
          </form>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading">
            <h4 class="panel-title">CPU & Memory</h4>
          </div>
          <div class="panel-body">
            <p class="text-muted">Registers / Flags</p>
            <table class="table table-condensed table-striped">
              <thead>
                <tr>
                  <th style="text-align:center">A</th>
                  <th style="text-align:center">B</th>
                  <th style="text-align:center">C</th>
                  <th style="text-align:center">D</th>
                  <th style="text-align:center">IP</th>
                  <th style="text-align:center">SP</th>
                  <th style="text-align:center">Z</th>
                  <th style="text-align:center">C</th>
                  <th style="text-align:center">F</th>
                </tr>
              </thead>
              <tbody>
                <tr style="text-align:center;" class="source-code">
                  <td><div style="margin:auto;" class="marker marker-sp"><small>blah</small></div></td>
                  <td><div style="margin:auto;" class="marker marker-sp"><small>blah</small></div></td>
                  <td><div style="margin:auto;" class="marker marker-sp"><small>blah</small></div></td>
                  <td><div style="margin:auto;" class="marker marker-sp"><small>blah</small></div></td>
                  <td><div style="margin:auto;" class="marker marker-sp"><small>blah</small></div></td>
                  <td><div style="margin:auto;" class="marker marker-sp"><small>blah</small></div></td>
                  <td><small>blah</small></td>
                  <td><small>blah</small></td>
                  <td><small>blah</small></td>
                </tr>
              </tbody>
            </table>
            <p class="text-muted">RAM</p>
            <div style="width:29em;" class="source-code">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr style="margin-top:10px;margin-bottom:10px;"/>
  <footer>
    <p>&copy;2018 Yash Patel and Peter DeLong. All rights reserved.</p>
  </footer>
  
  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.9/typed.min.js"></script>
  <script>
    function transitionToWorkspace() {
      shell = $("#shell")[0]
      var frameCount = 250;
      var id = setInterval(frame, 5);
      function frame() {
        if (frameCount == 0) {
          clearInterval(id);
          $("#shell").css('display','none');
          $("#header").css('display','block');
          $("#header").addClass('animated fadeIn');
          $("#studio").css('display','inline');
          $("#studio").addClass('animated fadeIn');
        } else if (frameCount % 5 == 0 && frameCount <= 125) {
          shell.style.left = frameCount / 5 + '%'; 
        }
        frameCount--;
      }
    }

    new Typed('#cat_main', {
      strings: ["cat main.c"],
      typeSpeed: 50,
      startDelay: 500,
      onComplete: function(self) {
        $('.typed-cursor').hide();
        $("#cat_main_output").css('display','inline');
        $("#ls").css('display','inline');
        new Typed('#ls', {
          strings: ["ls"],
          typeSpeed: 150,
          startDelay: 500,
          onComplete: function(self) {
            $('.typed-cursor').hide();
            $("#ls_output").css('display','inline');
            $("#cat_main_s").css('display','inline');
            new Typed('#cat_main_s', {
              strings: ["cat main.s"],
              typeSpeed: 100,
              startDelay: 500,
              onComplete: function(self) {
                $('.typed-cursor').hide();
                $("#cat_main_s_output").css('display','inline');
                transitionToWorkspace();
              }
            });
          }
        });
      }
    });
  </script>
</body>

</html>
